W.loadPlugin({name:"windy-plugin-flymet",version:"1.3.1",author:"Jakub Vrana",repository:{type:"git",url:"git+https://github.com/vrana/windy-plugin-flymet"},description:"Windy plugin for Flymet.",displayName:"Flymet",hook:"contextmenu",className:"plugin-lhpane plugin-mobile-fullscreen",exclusive:"lhpane"},["broadcast","map","store","rootScope"],(function(t,e,l,a,p){var n=l.map;let i,s,o="cudf";function r(){const t=new Date(a.get("timestamp")),e=new Date,l=t.getUTCHours();let p="",r="";if(o){const a=o.replace(/^cury/,"ecury");y(t,e)&&l>0?(p="https://flymet.meteopress.cz/cr/"+o+l+".png","cuvr"!=a&&"drtr"!=a&&(r="https://flymet.meteopress.cz/sk/"+a+l+".png")):y(t,m(e))?(p="https://flymet.meteopress.cz/cr"+(l?"dl/"+o+l:"/"+o+"24")+".png",a!=o&&(r="https://flymet.meteopress.cz/sk"+(l?"dl/"+a+l:"/"+a+"24")+".png")):y(t,m(e))&&l<20&&(p="https://flymet.meteopress.cz/crdl"+(l?"1/"+o+l:"/"+o+"24")+".png")}p?i.setUrl(r?"https://pg.vrana.cz/flymet/cz.php?url="+p:p).addTo(n):i.remove(),r?s.setUrl("https://pg.vrana.cz/flymet/sk.php?url="+r).addTo(n):s.remove()}function m(t){return t.setDate(t.getDate()+1),t}function y(t,e){return t.getDate()==e.getDate()}t.onmount=t=>{Array.from(t.querySelectorAll("[data-flymet]")).forEach((l=>l.onclick=l=>{t.querySelector('[data-flymet="'+o+'"]').style.fontWeight="normal",l.target.style.fontWeight="bold",o=l.target.dataset.flymet,r(),p.isMobile&&e.fire("rqstClose","windy-plugin-flymet")})),t.querySelector("#flymet-opacity").oninput=function(t){i.setOpacity(t.target.value/100)}},t.onopen=()=>{if(!i){const t=document.getElementById("open-in-app");t&&(t.style.display="none"),i=L.imageOverlay("https://flymet.meteopress.cz/cr/cudf13.png",[[48,11.65],[51.65,19.35]],{opacity:.5}),s=L.imageOverlay("https://flymet.meteopress.cz/sk/cudf13.png",[[47.1,16.5],[50.145,22.9]],{opacity:.5}),r(),a.on("timestamp",r)}}}),'<div class="mobile-header"><div class="mh-closing-x iconfont clickable" data-do="rqstClose,windy-plugin-flymet">}</div></div><div class="plugin-content"><h2>Flymet</h2><ul style="padding-left: 20px;"><li><a data-flymet="">nic</a></li><li><a data-flymet="cudf" style="font-weight: bold;">Deficit konvektivní teploty</a> <a href="https://flymet.meteopress.cz/manual.php#popis21" target="_blank"><sup>?</sup></a></li><li><a data-flymet="cukh">Kupovitá oblačnost</a> <a href="https://flymet.meteopress.cz/manual.php#popis22" target="_blank"><sup>?</sup></a></li><li><a data-flymet="cuvr">Rychlost stoupání</a> <a href="https://flymet.meteopress.cz/manual.php#popis2" target="_blank"><sup>?</sup></a></li><li><a data-flymet="curya">Stoupání 1000 m</a> <a href="https://flymet.meteopress.cz/manual.php#popis27" target="_blank"><sup>?</sup></a></li><li><a data-flymet="curyb">Stoupání 1500 m</a> <a href="https://flymet.meteopress.cz/manual.php#popis27" target="_blank"><sup>?</sup></a></li><li><a data-flymet="drtr">Druh termiky</a></li></ul><p>Neprůhlednost: <input id="flymet-opacity" type="range" min="0" max="100" value="50" style="vertical-align: text-bottom;"></p><p>Zdroj dat: <a href="https://flymet.meteopress.cz/cr/" target="_blank">Flymet</a></p></div>',".onwindy-plugin-flymet .left-border{left:400px}.onwindy-plugin-flymet #search{display:none}#windy-plugin-flymet{width:400px;height:100%}#windy-plugin-flymet .plugin-content{padding:20px 15px 15px 15px;font-size:14px;line-height:1.6}#windy-plugin-flymet a{color:navy}");
